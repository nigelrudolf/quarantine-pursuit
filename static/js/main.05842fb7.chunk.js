(this["webpackJsonpquarantine-pursuit"]=this["webpackJsonpquarantine-pursuit"]||[]).push([[0],{22:function(e,t,a){},40:function(e,t,a){e.exports=a(67)},67:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(37),i=a.n(r),c=(a(22),a(7)),s=a(8),u=a(10),l=a(9),m=a(11),h=a(1),p=a(18),d=a.n(p);a(45);d.a.initializeApp({apiKey:"AIzaSyBvJwO2yQSGErN9NBZQnldxiKSwQSt1mkc",authDomain:"quarantine-pursuit.firebaseapp.com",databaseURL:"https://quarantine-pursuit.firebaseio.com",projectId:"quarantine-pursuit",storageBucket:"quarantine-pursuit.appspot.com",messagingSenderId:"800505781023",appId:"1:800505781023:web:445c432c49eb4bf083ae2a"});var b=d.a,v=a(38),f=a(15),E=a.n(f),y=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleChange=function(t){e.setState(Object(v.a)({},t.target.name,t.target.value))},e.handleClick=function(t){t.preventDefault();var a={};E()({url:"https://opentdb.com/api.php",method:"GET",responseType:"JSON",params:{amount:e.state.amount,category:e.state.selectedCategory,difficulty:e.state.difficulty,token:e.state.token,type:"multiple",encode:"base64"}}).then((function(t){a=t.data.results,e.props.callQuiz(a),console.log(a),e.setState({showPlay:!0})}))},e.state={categories:[],isLoading:!0,selectedCategory:0,amount:1,difficulty:"easy",token:"",showPlay:!1},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;E()({url:"https://opentdb.com/api_category.php",method:"GET",responseType:"JSON"}).then((function(t){var a=t.data.trivia_categories;e.setState({categories:a,isLoading:!1})})),E()({url:"https://opentdb.com/api_token.php?command=request",method:"GET",responseType:"JSON"}).then((function(t){var a=t.data.token;e.setState({token:a}),console.log(e.state.token)}))}},{key:"render",value:function(){return!0===this.state.showPlay?o.a.createElement(m.b,{to:"/play"},"Play Quiz"):o.a.createElement("form",null,o.a.createElement("select",{name:"selectedCategory",id:"categories",onChange:this.handleChange},this.state.categories.map((function(e,t){return o.a.createElement("option",{key:t,value:e.id},e.name)}))),o.a.createElement("input",{type:"number",name:"amount",min:"0",max:"20",value:this.state.amount,onChange:this.handleChange}),o.a.createElement("button",{onClick:this.handleClick},"Generate Quiz"))}}]),a}(n.Component),g=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleClick=function(t){e.props.selectQuiz(t.target.name)},e.state={quizList:[]},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.database().ref().once("value",(function(t){var a=t.val(),n=Object.keys(a);e.setState({quizList:n})}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,this.state.quizList.map((function(t){return o.a.createElement("div",{key:t},o.a.createElement("button",{name:t,onClick:e.handleClick},t))})))}}]),a}(n.Component),k=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).save=function(){var t=prompt("What would you like to name this quiz");e.setState({quizName:t}),b.database().ref().child(t).set(e.props.quiz)},e.state={quizName:""},e}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h2",null,"Your Score is: ",this.props.score,"/",this.props.quiz.length),o.a.createElement(m.b,{to:"/"},o.a.createElement("button",null,"Home")),o.a.createElement("button",{onClick:this.save},"Save Quiz"))}}]),a}(n.Component),z=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleClick=function(){var e=n.state.questionNumber;++e<n.props.quiz.length?(n.setCorrectPosition(),console.log(n.state.currentQuestion),n.setState({questionNumber:e,currentQuestion:n.props.quiz[e]})):(console.log("end"),n.setState({showFinalScore:!0}))},n.correct=function(){var e=n.state.score;e++,n.setState({score:e}),n.handleClick()},n.setCorrectPosition=function(){var e=Math.floor(4*Math.random());n.setState({position:e})},n.state={currentQuestion:{question:" ",incorrect_answers:[]},questionNumber:0,position:1,score:0,showFinalScore:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){console.log("mounted");var e=this.props.quiz[0];this.setState({currentQuestion:e}),this.setCorrectPosition()}},{key:"render",value:function(){var e=this,t=this.state.currentQuestion.incorrect_answers.map((function(t,a){return e.state.position===a||2===a&&3==e.state.position?o.a.createElement("div",null,o.a.createElement("button",{onClick:e.correct},atob(e.state.currentQuestion.correct_answer)),o.a.createElement("button",{onClick:e.handleClick},atob(t))):o.a.createElement("button",{onClick:e.handleClick},atob(t))}));return o.a.createElement("div",null,this.state.showFinalScore?o.a.createElement(k,{quiz:this.props.quiz,score:this.state.score}):null,o.a.createElement("h2",null,atob(this.state.currentQuestion.question)),t)}}]),a}(n.Component),q=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).callQuiz=function(t){e.setState({quiz:t}),console.log(e.state.quiz)},e.selectQuiz=function(t){b.database().ref(t).once("value",(function(t){var a=t.val();e.setState({quiz:a})})).then((function(){console.log("ding"),e.setState({dataReady:!0})}))},e.state={activeQuizPath:"",quiz:[{incorrect_answers:[]}],dataReady:!1},e}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement(m.a,{basename:"/quarantine-pursuit"},o.a.createElement("div",{className:"app"},o.a.createElement("header",null,o.a.createElement("h1",null,"Quarantine Pursuit")),o.a.createElement("main",null,o.a.createElement(h.b,{exact:!0,path:"/"},o.a.createElement(m.b,{className:"button",to:"/create"},"Create a Quiz!"),o.a.createElement(m.b,{className:"button",to:"/select"},"Select an Existing Quiz!")),o.a.createElement(h.b,{path:"/create"},o.a.createElement(y,{callQuiz:this.callQuiz})),o.a.createElement(h.b,{path:"/select"},o.a.createElement(g,{selectQuiz:this.selectQuiz})),this.state.dataReady?o.a.createElement(h.a,{to:"/play"}):null,o.a.createElement(h.b,{path:"/play"},o.a.createElement(z,{quiz:this.state.quiz})))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.05842fb7.chunk.js.map