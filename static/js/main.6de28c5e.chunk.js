(this["webpackJsonpquarantine-pursuit"]=this["webpackJsonpquarantine-pursuit"]||[]).push([[0],{25:function(e,t,a){},41:function(e,t,a){e.exports=a.p+"static/media/logo.d89ed495.png"},44:function(e,t,a){e.exports=a(73)},73:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(38),i=a.n(o),s=(a(25),a(8)),c=a(9),u=a(11),l=a(10),m=a(12),p=a(2),h=a(20),d=a.n(h);a(49);d.a.initializeApp({apiKey:"AIzaSyBvJwO2yQSGErN9NBZQnldxiKSwQSt1mkc",authDomain:"quarantine-pursuit.firebaseapp.com",databaseURL:"https://quarantine-pursuit.firebaseio.com",projectId:"quarantine-pursuit",storageBucket:"quarantine-pursuit.appspot.com",messagingSenderId:"800505781023",appId:"1:800505781023:web:445c432c49eb4bf083ae2a"});var b=d.a,f=a(40),v=a(39),E=function(){return r.a.createElement("div",{className:"loading-container"},r.a.createElement(v.a,{icon:f.a,"aria-hidden":"true"}))},g=a(41),y=a.n(g),k=a(42),q=a(16),z=a.n(q),C=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleChange=function(t){e.setState(Object(k.a)({},t.target.name,t.target.value))},e.handleClick=function(t){t.preventDefault(),e.props.loadingHandler();var a={};z()({url:"https://opentdb.com/api.php",method:"GET",responseType:"JSON",params:{amount:e.state.amount,category:e.state.selectedCategory,difficulty:e.state.difficulty,token:e.state.token,type:"multiple",encode:"base64"}}).then((function(t){a=t.data.results,e.props.callQuiz(a)}))},e.state={categories:[],isLoading:!0,selectedCategory:0,amount:1,difficulty:"easy",token:""},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;z()({url:"https://opentdb.com/api_category.php",method:"GET",responseType:"JSON"}).then((function(t){var a=t.data.trivia_categories;e.setState({categories:a,isLoading:!1})})),z()({url:"https://opentdb.com/api_token.php?command=request",method:"GET",responseType:"JSON"}).then((function(t){var a=t.data.token;e.setState({token:a}),console.log(e.state.token)}))}},{key:"render",value:function(){return r.a.createElement("form",null,r.a.createElement("div",null,r.a.createElement("label",{for:"selectedCategory"},"Choose a Category:"),r.a.createElement("select",{name:"selectedCategory",id:"categories",onChange:this.handleChange},this.state.categories.map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.name)})))),r.a.createElement("div",null,r.a.createElement("label",{for:"amount"},"Number of Questions:"),r.a.createElement("input",{type:"number",name:"amount",min:"0",max:"20",value:this.state.amount,onChange:this.handleChange}),r.a.createElement("button",{onClick:this.handleClick},"Generate Quiz")))}}]),a}(n.Component),S=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleClick=function(t){e.props.selectQuiz(t.target.name)},e.state={quizList:[]},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.database().ref().once("value",(function(t){var a=t.val(),n=Object.keys(a);e.setState({quizList:n})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.quizList.map((function(t){return r.a.createElement("div",{key:t},r.a.createElement("button",{name:t,onClick:e.handleClick},t))})))}}]),a}(n.Component),Q=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).save=function(){var e=prompt("What would you like to name this quiz");n.setState({quizName:e}),b.database().ref().child(e).set(n.props.quiz)},n.state={quizName:""},n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Your Score is: ",this.props.score,"/",this.props.quiz.length),r.a.createElement(m.b,{to:"/"},r.a.createElement("button",{onClick:this.props.reset},"Home")),r.a.createElement("button",{onClick:this.save},"Save Quiz"))}}]),a}(n.Component),O=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleClick=function(){var e=n.state.questionNumber;++e<n.props.quiz.length?(n.setCorrectPosition(),console.log(n.state.currentQuestion),n.setState({questionNumber:e,currentQuestion:n.props.quiz[e]})):(console.log("end"),n.setState({showFinalScore:!0}))},n.correct=function(){var e=n.state.score;e++,n.setState({score:e}),n.handleClick()},n.setCorrectPosition=function(){var e=Math.floor(4*Math.random());n.setState({position:e})},n.reset=function(){n.setState({currentQuestion:{correctAnswer:"",question:"",incorrect_answers:[]},questionNumber:0,position:1,score:0,showFinalScore:!1}),n.props.reset()},n.state={currentQuestion:{question:" ",incorrect_answers:[]},questionNumber:0,position:1,score:0,showFinalScore:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){console.log("mounted");var e=this.props.quiz[0];this.setState({currentQuestion:e}),this.setCorrectPosition()}},{key:"render",value:function(){var e=this,t=this.state.currentQuestion.incorrect_answers.map((function(t,a){return e.state.position===a||2===a&&3==e.state.position?r.a.createElement("div",{key:a},r.a.createElement("button",{onClick:e.correct},atob(e.state.currentQuestion.correct_answer)),r.a.createElement("button",{onClick:e.handleClick},atob(t))):r.a.createElement("button",{key:a,onClick:e.handleClick},atob(t))}));return r.a.createElement("div",null,this.state.showFinalScore?r.a.createElement(Q,{quiz:this.props.quiz,score:this.state.score,reset:this.reset}):r.a.createElement("div",null,r.a.createElement("h2",null,atob(this.state.currentQuestion.question))," ",t))}}]),a}(n.Component),w=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).callQuiz=function(t){e.setState({quiz:t,dataReady:!0,isLoading:!1}),console.log(e.state.quiz)},e.selectQuiz=function(t){b.database().ref(t).once("value",(function(t){var a=t.val();e.setState({quiz:a})})).then((function(){e.setState({dataReady:!0,isLoading:!1})}))},e.reset=function(){e.setState({activeQuizPath:"",quiz:[{question:"",correctAnswer:"",incorrect_answers:[]}],dataReady:!1}),console.log("reset")},e.loadingHandler=function(){e.setState({isLoading:!0})},e.state={activeQuizPath:"",quiz:[{question:"",correctAnswer:"",incorrect_answers:[]}],dataReady:!1,isLoading:!1},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(m.a,{basename:"/quarantine-pursuit"},r.a.createElement("div",{className:"app"},r.a.createElement("header",null,r.a.createElement("h1",{className:"sr-only"},"Qurantine Pursuit"),r.a.createElement("img",{src:y.a,alt:"Logo for Qurantine Pursuit"})),r.a.createElement("main",null,this.state.isLoading?r.a.createElement(E,null):null,r.a.createElement(p.b,{exact:!0,path:"/"},r.a.createElement("button",null,r.a.createElement(m.b,{to:"/create"},"Create a Quiz!")),r.a.createElement("button",null,r.a.createElement(m.b,{to:"/select"},"Select an Existing Quiz!"))),r.a.createElement(p.b,{path:"/create"},r.a.createElement(C,{callQuiz:this.callQuiz,loadingHandler:this.loadingHandler})),r.a.createElement(p.b,{path:"/select"},r.a.createElement(S,{selectQuiz:this.selectQuiz})),this.state.dataReady?r.a.createElement(p.a,{to:"/play"}):null,r.a.createElement(p.b,{path:"/play"},r.a.createElement(O,{quiz:this.state.quiz,reset:this.reset})))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[44,1,2]]]);
//# sourceMappingURL=main.6de28c5e.chunk.js.map